## Описание предметной области

**Предметная область:** Банковское кредитование

**Проблемная ситуация:** Банк обрабатывает множество кредитных заявок и должен автоматически принимать решение об их одобрении или отклонении на основе анализа кредитной истории заемщиков и системы поручительств.

**Вопрос для классификации:** Можно ли отнести кредитную заявку к классу 'ОдобреннаяЗаявка'?

## Критерии классификации

Кредитная заявка считается одобренной, если выполняется одно из условий:
1. Заемщик имеет высокий кредитный рейтинг (>700) и не имеет текущих просрочек
2. За заемщиком стоит поручитель с очень высоким рейтингом (>750) и у заемщика нет просрочек

## Структура онтологии

### Классы
- `Заемщик` - физическое лицо, подающее кредитную заявку
- `КредитнаяЗаявка` - запрос на получение кредита
- `ОдобреннаяЗаявка` - одобренные заявки
- `ОтклоненнаяЗаявка` - отклоненные заявки
- `КредитныйПродукт` - тип кредита (ипотека, автокредит и т.д.)
- `Банк` - кредитная организация
- `КредитнаяИстория` - история кредитных отношений заемщика

### Свойства (предикаты)

#### Object Properties
- `являетсяПоручителемДля` - транзитивное свойство поручительства
- `заявкаПоданаЗаемщиком` - связь заявки с заемщиком
- `имеетКредитнуюИсторию` - связь заемщика с кредитной историей
- `обрабатываетсяБанком` - связь заявки с банком
- `относитсяКПродукту` - связь заявки с кредитным продуктом

#### Data Properties
- `имеетКредитныйРейтинг` - кредитный рейтинг заемщика
- `имеетПросрочки` - наличие текущих просрочек
- `имеетЕжемесячныйДоход` - доход заемщика
- `имеетСуммуКредита` - сумма запрашиваемого кредита
- `имеетСрокКредита` - срок кредита в месяцах
- `имеетСтавку` - процентная ставка

### Аксиомы
- Свойство `являетсяПоручителемДля` является транзитивным
- Классы `ОдобреннаяЗаявка` и `ОтклоненнаяЗаявка` являются непересекающимися

## Индивиды

### Заемщики
- `Татьяна` - надежный заемщик (рейтинг 780, нет просрочек)
- `Петр` - проблемный заемщик (рейтинг 620, есть просрочки) 
- `Степан` - заемщик со средним рейтингом (710, нет просрочек)

### Кредитные заявки
- `Заявка001` - подана Татьяной на ипотеку
- `Заявка002` - подана Петром на автокредит
- `Заявка003` - подана Степаном на потребительский кредит

### Кредитные продукты
- `Ипотека`, `Автокредит`, `ПотребительскийКредит`

### Банк
- `РайффайзенБанк`

## SWRL-правило классификации

### Правило 1: Отклонение при наличии просрочек
```
КредитнаяЗаявка(?z) 
∧ заявкаПоданаЗаемщиком(?z, ?a) 
∧ имеетПросрочки(?a, true) 
→ ОтклоненнаяЗаявка(?z)
```

**Описание:** Если заемщик имеет текущие просрочки по кредитам, его заявка автоматически отклоняется.

### Правило 2: Одобрение по высокому рейтингу
```
КредитнаяЗаявка(?z) 
∧ заявкаПоданаЗаемщиком(?z, ?a) 
∧ имеетКредитныйРейтинг(?a, ?r) 
∧ greaterThan(?r, 700) 
∧ имеетПросрочки(?a, false) 
→ ОдобреннаяЗаявка(?z)
```

**Описание:** Заявка одобряется, если заемщик имеет рейтинг выше 700 и не имеет просрочек.

### Правило 3: Одобрение через поручительство
```
КредитнаяЗаявка(?z) 
∧ заявкаПоданаЗаемщиком(?z, ?a) 
∧ являетсяПоручителемДля(?p, ?a) 
∧ имеетКредитныйРейтинг(?p, ?r) 
∧ greaterThan(?r, 750) 
∧ имеетПросрочки(?a, false) 
→ ОдобреннаяЗаявка(?z)
```

**Описание:** Заявка одобряется, если за заемщиком стоит поручитель с рейтингом выше 750 и у заемщика нет просрочек. Используется транзитивное свойство поручительства.

## Пример SPARQL запроса для проверки (в Apache Jena Fuseki)

### Все одобренные заявки
```sparql
PREFIX : <http://kik.misis.ru/ontology/mpi/2025/Kharlashkina-Aleksandra/task3>
SELECT ?заявка ?заемщик ?рейтинг
WHERE {
  ?заявка a :ОдобреннаяЗаявка ;
          :заявкаПоданаЗаемщиком ?заемщик .
  ?заемщик :имеетКредитныйРейтинг ?рейтинг .
}
```

## Результаты выполнения

После запуска reasoner (Pellet) в Protégé:

- **Заявка001** → `ОдобреннаяЗаявка` (Татьяна: рейтинг 780 > 700, нет просрочек)
- **Заявка002** → `ОтклоненнаяЗаявка` (Петр: есть просрочки)
- **Заявка003** → `ОдобреннаяЗаявка` (Степан: поручитель Татьяна с рейтингом 780 > 750, нет просрочек)
