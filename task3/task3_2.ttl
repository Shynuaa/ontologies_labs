@prefix : <http://www.semanticweb.org/aleks/ontologies/2025/9/untitled-ontology-8/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix swrl: <http://www.w3.org/2003/11/swrl#> .
@prefix swrlb: <http://www.w3.org/2003/11/swrlb#> .
@prefix swrla: <http://swrl.stanford.edu/ontologies/3.3/swrla.owl#> .
@base <http://www.semanticweb.org/aleks/ontologies/2025/9/untitled-ontology-8/> .

#################################################################
#    SWRL Rules
#################################################################

### Правило 1: Одобрение заявки для надежных заемщиков
[ rdf:type swrl:Imp ;
  swrla:isRuleEnabled "true"^^xsd:boolean ;
  rdfs:comment "Одобрение заявки для заемщиков с высоким кредитным рейтингом" ;
  rdfs:label "Правило_Одобрения_Высокий_Рейтинг" ;
  swrl:body [
    rdf:type swrl:AtomList ;
    rdf:first [
      rdf:type swrl:ClassAtom ;
      swrl:classPredicate :КредитнаяЗаявка ;
      swrl:argument1 :x
    ] ;
    rdf:rest [
      rdf:type swrl:AtomList ;
      rdf:first [
        rdf:type swrl:ClassAtom ;
        swrl:classPredicate :Заемщик ;
        swrl:argument1 :a
      ] ;
      rdf:rest [
        rdf:type swrl:AtomList ;
        rdf:first [
          rdf:type swrl:IndividualPropertyAtom ;
          swrl:propertyPredicate :поданаЗаемщиком ;
          swrl:argument1 :x ;
          swrl:argument2 :a
        ] ;
        rdf:rest [
          rdf:type swrl:AtomList ;
          rdf:first [
            rdf:type swrl:DatavaluedPropertyAtom ;
            swrl:propertyPredicate :имеетКредитныйРейтинг ;
            swrl:argument1 :a ;
            swrl:argument2 :r
          ] ;
          rdf:rest [
            rdf:type swrl:AtomList ;
            rdf:first [
              rdf:type swrl:DatavaluedPropertyAtom ;
              swrl:propertyPredicate :имеетТекущиеПросрочки ;
              swrl:argument1 :a ;
              swrl:argument2 "false"^^xsd:boolean
            ] ;
            rdf:rest [
              rdf:type swrl:AtomList ;
              rdf:first [
                rdf:type swrl:BuiltinAtom ;
                swrl:builtin swrlb:greaterThanOrEqual ;
                swrl:arguments (:r "750"^^xsd:integer)
              ] ;
              rdf:rest rdf:nil
            ]
          ]
        ]
      ]
    ]
  ] ;
  swrl:head [
    rdf:type swrl:AtomList ;
    rdf:first [
      rdf:type swrl:ClassAtom ;
      swrl:classPredicate :ОдобреннаяЗаявка ;
      swrl:argument1 :x
    ] ;
    rdf:rest rdf:nil
  ]
] .

### Правило 2: Одобрение для заемщиков со средним рейтингом и хорошим доходом
[ rdf:type swrl:Imp ;
  swrla:isRuleEnabled "true"^^xsd:boolean ;
  rdfs:comment "Одобрение для заемщиков со средним рейтингом но высоким доходом" ;
  rdfs:label "Правило_Одобрения_Средний_Рейтинг_Высокий_Доход" ;
  swrl:body [
    rdf:type swrl:AtomList ;
    rdf:first [
      rdf:type swrl:ClassAtom ;
      swrl:classPredicate :КредитнаяЗаявка ;
      swrl:argument1 :x
    ] ;
    rdf:rest [
      rdf:type swrl:AtomList ;
      rdf:first [
        rdf:type swrl:ClassAtom ;
        swrl:classPredicate :Заемщик ;
        swrl:argument1 :a
      ] ;
      rdf:rest [
        rdf:type swrl:AtomList ;
        rdf:first [
          rdf:type swrl:IndividualPropertyAtom ;
          swrl:propertyPredicate :поданаЗаемщиком ;
          swrl:argument1 :x ;
          swrl:argument2 :a
        ] ;
        rdf:rest [
          rdf:type swrl:AtomList ;
          rdf:first [
            rdf:type swrl:DatavaluedPropertyAtom ;
            swrl:propertyPredicate :имеетКредитныйРейтинг ;
            swrl:argument1 :a ;
            swrl:argument2 :r
          ] ;
          rdf:rest [
            rdf:type swrl:AtomList ;
            rdf:first [
              rdf:type swrl:DatavaluedPropertyAtom ;
              swrl:propertyPredicate :имеетЕжемесячныйДоход ;
              swrl:argument1 :a ;
              swrl:argument2 :d
            ] ;
            rdf:rest [
              rdf:type swrl:AtomList ;
              rdf:first [
                rdf:type swrl:DatavaluedPropertyAtom ;
                swrl:propertyPredicate :имеетТекущиеПросрочки ;
                swrl:argument1 :a ;
                swrl:argument2 "false"^^xsd:boolean
              ] ;
              rdf:rest [
                rdf:type swrl:AtomList ;
                rdf:first [
                  rdf:type swrl:BuiltinAtom ;
                  swrl:builtin swrlb:greaterThanOrEqual ;
                  swrl:arguments (:r "700"^^xsd:integer)
                ] ;
                rdf:rest [
                  rdf:type swrl:AtomList ;
                  rdf:first [
                    rdf:type swrl:BuiltinAtom ;
                    swrl:builtin swrlb:lessThan ;
                    swrl:arguments (:r "750"^^xsd:integer)
                  ] ;
                  rdf:rest [
                    rdf:type swrl:AtomList ;
                    rdf:first [
                      rdf:type swrl:BuiltinAtom ;
                      swrl:builtin swrlb:greaterThanOrEqual ;
                      swrl:arguments (:d "100000.00"^^xsd:decimal)
                    ] ;
                    rdf:rest rdf:nil
                  ]
                ]
              ]
            ]
          ]
        ]
      ]
    ]
  ] ;
  swrl:head [
    rdf:type swrl:AtomList ;
    rdf:first [
      rdf:type swrl:ClassAtom ;
      swrl:classPredicate :ОдобреннаяЗаявка ;
      swrl:argument1 :x
    ] ;
    rdf:rest rdf:nil
  ]
] .

### Правило 3: Отклонение заявки при наличии просрочек
[ rdf:type swrl:Imp ;
  swrla:isRuleEnabled "true"^^xsd:boolean ;
  rdfs:comment "Автоматическое отклонение заявки при наличии текущих просрочек" ;
  rdfs:label "Правило_Отклонения_Просрочки" ;
  swrl:body [
    rdf:type swrl:AtomList ;
    rdf:first [
      rdf:type swrl:ClassAtom ;
      swrl:classPredicate :КредитнаяЗаявка ;
      swrl:argument1 :x
    ] ;
    rdf:rest [
      rdf:type swrl:AtomList ;
      rdf:first [
        rdf:type swrl:ClassAtom ;
        swrl:classPredicate :Заемщик ;
        swrl:argument1 :a
      ] ;
      rdf:rest [
        rdf:type swrl:AtomList ;
        rdf:first [
          rdf:type swrl:IndividualPropertyAtom ;
          swrl:propertyPredicate :поданаЗаемщиком ;
          swrl:argument1 :x ;
          swrl:argument2 :a
        ] ;
        rdf:rest [
          rdf:type swrl:AtomList ;
          rdf:first [
            rdf:type swrl:DatavaluedPropertyAtom ;
            swrl:propertyPredicate :имеетТекущиеПросрочки ;
            swrl:argument1 :a ;
            swrl:argument2 "true"^^xsd:boolean
          ] ;
          rdf:rest rdf:nil
        ]
      ]
    ]
  ] ;
  swrl:head [
    rdf:type swrl:AtomList ;
    rdf:first [
      rdf:type swrl:ClassAtom ;
      swrl:classPredicate :ОтклоненнаяЗаявка ;
      swrl:argument1 :x
    ] ;
    rdf:rest rdf:nil
  ]
] .

### Правило 4: Отклонение заявки при низком кредитном рейтинге
[ rdf:type swrl:Imp ;
  swrla:isRuleEnabled "true"^^xsd:boolean ;
  rdfs:comment "Отклонение заявки при очень низком кредитном рейтинге" ;
  rdfs:label "Правило_Отклонения_Низкий_Рейтинг" ;
  swrl:body [
    rdf:type swrl:AtomList ;
    rdf:first [
      rdf:type swrl:ClassAtom ;
      swrl:classPredicate :КредитнаяЗаявка ;
      swrl:argument1 :x
    ] ;
    rdf:rest [
      rdf:type swrl:AtomList ;
      rdf:first [
        rdf:type swrl:ClassAtom ;
        swrl:classPredicate :Заемщик ;
        swrl:argument1 :a
      ] ;
      rdf:rest [
        rdf:type swrl:AtomList ;
        rdf:first [
          rdf:type swrl:IndividualPropertyAtom ;
          swrl:propertyPredicate :поданаЗаемщиком ;
          swrl:argument1 :x ;
          swrl:argument2 :a
        ] ;
        rdf:rest [
          rdf:type swrl:AtomList ;
          rdf:first [
            rdf:type swrl:DatavaluedPropertyAtom ;
            swrl:propertyPredicate :имеетКредитныйРейтинг ;
            swrl:argument1 :a ;
            swrl:argument2 :r
          ] ;
          rdf:rest [
            rdf:type swrl:AtomList ;
            rdf:first [
              rdf:type swrl:BuiltinAtom ;
              swrl:builtin swrlb:lessThan ;
              swrl:arguments (:r "600"^^xsd:integer)
            ] ;
            rdf:rest rdf:nil
          ]
        ]
      ]
    ]
  ] ;
  swrl:head [
    rdf:type swrl:AtomList ;
    rdf:first [
      rdf:type swrl:ClassAtom ;
      swrl:classPredicate :ОтклоненнаяЗаявка ;
      swrl:argument1 :x
    ] ;
    rdf:rest rdf:nil
  ]
] .

### Переменные для правил
:x rdf:type swrl:Variable .
:a rdf:type swrl:Variable .
:r rdf:type swrl:Variable .
:d rdf:type swrl:Variable .