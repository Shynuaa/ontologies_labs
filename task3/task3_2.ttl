@prefix : <http://kik.misis.ru/ontology/mpi/2025/Kharlashkina-Aleksandra/task3/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix swrl: <http://www.w3.org/2003/11/swrl#> .
@prefix swrlb: <http://www.w3.org/2003/11/swrlb#> .
@prefix swrla: <http://swrl.stanford.edu/ontologies/3.3/swrla.owl#> .
@base <http://kik.misis.ru/ontology/mpi/2025/Kharlashkina-Aleksandra/task3/> .

#################################################################
#    Rules
#################################################################

### Переменные
:z rdf:type swrl:Variable .
:a rdf:type swrl:Variable .
:p rdf:type swrl:Variable .
:r rdf:type swrl:Variable .

### Правило 1: Отклонение если есть просрочки
[ swrla:isRuleEnabled "true"^^xsd:boolean ;
  rdfs:label "Отклонение_просрочки" ;
  rdf:type swrl:Imp ;
  swrl:body [ rdf:type swrl:AtomList ;
              rdf:first [ rdf:type swrl:ClassAtom ;
                          swrl:classPredicate :КредитнаяЗаявка ;
                          swrl:argument1 :z
                        ] ;
              rdf:rest [ rdf:type swrl:AtomList ;
                         rdf:first [ rdf:type swrl:IndividualPropertyAtom ;
                                     swrl:propertyPredicate :заявкаПоданаЗаемщиком ;
                                     swrl:argument1 :z ;
                                     swrl:argument2 :a
                                   ] ;
                         rdf:rest [ rdf:type swrl:AtomList ;
                                    rdf:first [ rdf:type swrl:DatavaluedPropertyAtom ;
                                                swrl:propertyPredicate :имеетПросрочки ;
                                                swrl:argument1 :a ;
                                                swrl:argument2 "true"^^xsd:boolean
                                              ] ;
                                    rdf:rest rdf:nil
                                  ]
                       ]
            ] ;
  swrl:head [ rdf:type swrl:AtomList ;
              rdf:first [ rdf:type swrl:ClassAtom ;
                          swrl:classPredicate :ОтклоненнаяЗаявка ;
                          swrl:argument1 :z
                        ] ;
              rdf:rest rdf:nil
            ]
] .

### Правило 2: Одобрение если рейтинг высокий и нет просрочек
[ swrla:isRuleEnabled "true"^^xsd:boolean ;
  rdfs:label "Одобрение_рейтинг" ;
  rdf:type swrl:Imp ;
  swrl:body [ rdf:type swrl:AtomList ;
              rdf:first [ rdf:type swrl:ClassAtom ;
                          swrl:classPredicate :КредитнаяЗаявка ;
                          swrl:argument1 :z
                        ] ;
              rdf:rest [ rdf:type swrl:AtomList ;
                         rdf:first [ rdf:type swrl:IndividualPropertyAtom ;
                                     swrl:propertyPredicate :заявкаПоданаЗаемщиком ;
                                     swrl:argument1 :z ;
                                     swrl:argument2 :a
                                   ] ;
                         rdf:rest [ rdf:type swrl:AtomList ;
                                    rdf:first [ rdf:type swrl:DatavaluedPropertyAtom ;
                                                swrl:propertyPredicate :имеетКредитныйРейтинг ;
                                                swrl:argument1 :a ;
                                                swrl:argument2 :r
                                              ] ;
                                    rdf:rest [ rdf:type swrl:AtomList ;
                                               rdf:first [ rdf:type swrl:BuiltinAtom ;
                                                           swrl:builtin swrlb:greaterThan ;
                                                           swrl:arguments (:r "700"^^xsd:integer)
                                                         ] ;
                                               rdf:rest [ rdf:type swrl:AtomList ;
                                                          rdf:first [ rdf:type swrl:DatavaluedPropertyAtom ;
                                                                      swrl:propertyPredicate :имеетПросрочки ;
                                                                      swrl:argument1 :a ;
                                                                      swrl:argument2 "false"^^xsd:boolean
                                                                    ] ;
                                                          rdf:rest rdf:nil
                                                        ]
                                             ]
                                  ]
                       ]
            ] ;
  swrl:head [ rdf:type swrl:AtomList ;
              rdf:first [ rdf:type swrl:ClassAtom ;
                          swrl:classPredicate :ОдобреннаяЗаявка ;
                          swrl:argument1 :z
                        ] ;
              rdf:rest rdf:nil
            ]
] .

### Правило 3: Одобрение через поручителя (только если нет просрочек)
[ swrla:isRuleEnabled "true"^^xsd:boolean ;
  rdfs:label "Одобрение_поручитель" ;
  rdf:type swrl:Imp ;
  swrl:body [ rdf:type swrl:AtomList ;
              rdf:first [ rdf:type swrl:ClassAtom ;
                          swrl:classPredicate :КредитнаяЗаявка ;
                          swrl:argument1 :z
                        ] ;
              rdf:rest [ rdf:type swrl:AtomList ;
                         rdf:first [ rdf:type swrl:IndividualPropertyAtom ;
                                     swrl:propertyPredicate :заявкаПоданаЗаемщиком ;
                                     swrl:argument1 :z ;
                                     swrl:argument2 :a
                                   ] ;
                         rdf:rest [ rdf:type swrl:AtomList ;
                                    rdf:first [ rdf:type swrl:IndividualPropertyAtom ;
                                                swrl:propertyPredicate :являетсяПоручителемДля ;
                                                swrl:argument1 :p ;
                                                swrl:argument2 :a
                                              ] ;
                                    rdf:rest [ rdf:type swrl:AtomList ;
                                               rdf:first [ rdf:type swrl:DatavaluedPropertyAtom ;
                                                           swrl:propertyPredicate :имеетКредитныйРейтинг ;
                                                           swrl:argument1 :p ;
                                                           swrl:argument2 :r
                                                         ] ;
                                               rdf:rest [ rdf:type swrl:AtomList ;
                                                          rdf:first [ rdf:type swrl:BuiltinAtom ;
                                                                      swrl:builtin swrlb:greaterThan ;
                                                                      swrl:arguments (:r "750"^^xsd:integer)
                                                                    ] ;
                                                          rdf:rest [ rdf:type swrl:AtomList ;
                                                                     rdf:first [ rdf:type swrl:DatavaluedPropertyAtom ;
                                                                                 swrl:propertyPredicate :имеетПросрочки ;
                                                                                 swrl:argument1 :a ;
                                                                                 swrl:argument2 "false"^^xsd:boolean
                                                                               ] ;
                                                                     rdf:rest rdf:nil
                                                                   ]
                                                        ]
                                             ]
                                  ]
                       ]
            ] ;
  swrl:head [ rdf:type swrl:AtomList ;
              rdf:first [ rdf:type swrl:ClassAtom ;
                          swrl:classPredicate :ОдобреннаяЗаявка ;
                          swrl:argument1 :z
                        ] ;
              rdf:rest rdf:nil
            ]
] .

###  Generated by the OWL API (version 4.5.29.2024-05-13T12:11:03Z) https://github.com/owlcs/owlapi